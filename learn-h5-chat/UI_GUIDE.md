# UI 界面指南 - UI/UX Guide

本文档描述了应用的用户界面设计和布局。

## 🎨 设计系统

### 颜色方案

#### 主色彩
- **紫色渐变**: `#667eea` → `#764ba2`
  - 用于：标题、主按钮、用户消息气泡
  - 传达：专业、现代、创意

- **浅灰色**: `#f0f0f0`
  - 用于：AI 消息气泡、次级按钮背景
  - 传达：中立、易读

- **文字黑色**: `#333`
  - 用于：主要文本内容
  - 易读性高

- **错误红色**: `#c00` / `#ffe0e0`
  - 用于：错误信息
  - 清晰的警告指示

### 字体系统

#### 主字体
```css
font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 
  'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 
  'Helvetica Neue', sans-serif;
```

#### 字体大小
- **标题 (H1)**: 1.5rem (24px)
- **标题 (H2)**: 1.25rem (20px)
- **正文**: 0.95rem - 1rem (15px - 16px)
- **小文本**: 0.85rem - 0.9rem (13px - 14px)
- **超小文本**: 0.75rem (12px)

### 间距系统

```
基础间距单位: 0.5rem (8px)

间距等级:
- xs: 0.25rem (4px)
- sm: 0.5rem (8px)
- md: 1rem (16px)
- lg: 1.5rem (24px)
- xl: 2rem (32px)
```

## 📐 布局结构

### 整体布局

```
┌─────────────────────────────────────────────┐
│          App Header (Header)                │  高度: 60-70px
│  "🤖 学习 H5 聊天"          [⚙️ 设置]      │
└─────────────────────────────────────────────┘
│                                             │
│           App Content (Main)                │
│  ┌──────────────────────────────────────┐  │
│  │     Chat Container                   │  │
│  │  ┌────────────────────────────────┐  │  │
│  │  │  💬 消息容器 (Messages)       │  │  │
│  │  │                                │  │  │
│  │  │  [AI: 欢迎使用...]          │  │  │  自动滚动
│  │  │  [User: 你好!]              │  │  │  到最新消息
│  │  │  [AI: 很高兴为你服务...]    │  │  │
│  │  │                                │  │  │
│  │  └────────────────────────────────┘  │  │
│  │  ┌────────────────────────────────┐  │  │
│  │  │  💬 输入框区域                 │  │  │
│  │  │  ┌──────────────────────────┐  │  │  │
│  │  │  │ 输入消息... (Shift+Enter) │  │  │  │
│  │  │  └──────────────────────────┘  │  │  │
│  │  │  [🗑️ 清除]    [➤ 发送]        │  │  │
│  │  └────────────────────────────────┘  │  │
│  └──────────────────────────────────────┘  │
│                                             │
└─────────────────────────────────────────────┘
```

### 响应式设计

#### 桌面版本 (≥ 769px)
- 完整布局显示
- 最大宽度限制
- 两列布局支持（为将来扩展）

#### 移动版本 (≤ 768px)
- 简化的间距
- 更大的触摸目标 (≥ 44px)
- 全宽布局
- 减小的字体大小

## 🎯 组件详细设计

### 1. App Header

**高度**: 60-70px  
**背景**: 线性渐变 (紫色)  
**固定位置**: 顶部

**组成**:
```
┌────────────────────────────────┐
│ [🤖 学习 H5 聊天]  [⚙️ 设置]  │
└────────────────────────────────┘
```

**交互**:
- 点击设置按钮 → 打开设置面板（模态框）
- 按钮有 hover 效果（透明度增加）

### 2. Chat Messages 组件

**消息气泡样式**:

```
用户消息 (右对齐):
┌─────────────────────────┐
│  [👤]  [💭 用户的消息]   │  12:30
│         (紫色渐变背景)    │
└─────────────────────────┘

AI 消息 (左对齐):
┌─────────────────────────┐
│ [🤖]  [💭 AI 的响应]    │  12:31
│        (浅灰色背景)      │
└─────────────────────────┘
```

**特点**:
- 头像: 大小 1.5rem - 2rem
- 气泡: 圆角 8px
- 内边距: 0.75rem 1rem
- 最大宽度: 70% (桌面) / 85% (移动)
- 阴影: 微弱投影
- 动画: 进入时滑入动画 (0.3s)

### 3. Chat Input 组件

**输入框**:
```
┌─────────────────────────────────────┐
│ 输入消息...                (可多行) │
│ (按 Shift+Enter 换行)               │
│ (最小高度: 4rem / 最大: 8rem)       │
└─────────────────────────────────────┘
[🗑️ 清除]  [➤ 发送]
```

**特点**:
- Textarea 元素，支持多行
- 边框: 1px 灰色
- Focus 时: 边框变紫色，添加阴影
- 圆角: 6px
- 字体大小: 0.95rem

**按钮**:
- **清除按钮**: 浅灰色，图标 🗑️
- **发送按钮**: 紫色渐变，文本 "发送" / "发送中..."
- Hover 效果: 向上移动 2px，增加阴影
- Disabled 时: 50% 透明度

### 4. Settings Panel (模态框)

**结构**:
```
┌─────────────────────────────────────┐
│  API 配置              [✕ 关闭]     │  头部
├─────────────────────────────────────┤
│  [OpenAI]  [Google Gemini]          │  提供商标签
│  ───────────────────────────────────  │
│  API 密钥:                          │  内容
│  ┌──────────────────────────────┐   │
│  │ ••••••••••••••••••••••••••   │   │
│  └──────────────────────────────┘   │
│  从 https://platform.openai... 获取  │
│                                     │
│  API 基础 URL:                      │
│  ┌──────────────────────────────┐   │
│  │ https://api.openai.com/v1   │   │
│  └──────────────────────────────┘   │
│                                     │
│  模型:                              │
│  ┌──────────────────────────────┐   │
│  │ gpt-3.5-turbo              ▼│   │
│  └──────────────────────────────┘   │
│                                     │
│  💡 如何获取 API 密钥？             │
│  1. 访问 platform.openai.com...    │
│  2. 点击右上角用户头像 → API keys  │
│  3. 创建新的 Secret key            │
│  4. 复制并粘贴到上方密钥字段        │
├─────────────────────────────────────┤
│  [取消]  [保存]                      │  底部
└─────────────────────────────────────┘
```

**特点**:
- 模态背景: 半透明黑色 (rgba(0,0,0,0.5))
- 面板宽度: 90% / 最大 500px
- 最大高度: 90vh (可滚动)
- 进入动画: 向上滑动 + 淡入 (0.3s)
- 背景点击: 关闭面板
- 圆角: 12px

## 🎬 动画和过渡

### 动画库

#### 1. slideIn - 消息进入动画
```css
@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}
持续时间: 0.3s
缓动: ease-out
```

#### 2. bounce - 加载动画（3个点弹跳）
```css
@keyframes bounce {
  0%, 80%, 100% {
    opacity: 0.3;
    transform: translateY(0);
  }
  40% {
    opacity: 1;
    transform: translateY(-10px);
  }
}
持续时间: 1.4s
延迟: 0 / 0.2s / 0.4s
循环: infinite
```

#### 3. fadeIn - 淡入动画
```css
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
持续时间: 0.2s
用于: 模态框
```

#### 4. slideUp - 模态框进入
```css
@keyframes slideUp {
  from {
    transform: translateY(50px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}
持续时间: 0.3s
缓动: ease-out
```

### Hover 效果

```css
/* 按钮 Hover */
transform: translateY(-2px);
box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
过渡时间: 0.3s

/* 链接 Hover */
color: #764ba2;
text-decoration: underline;
过渡时间: 0.2s
```

## 📱 响应式断点

```css
/* 移动端优先 */
最小宽度: 320px

/* 平板 */
@media (min-width: 768px) {
  标准布局
}

/* 桌面 */
@media (min-width: 1024px) {
  增强布局
}

/* 大屏 */
@media (min-width: 1440px) {
  最大宽度限制
}
```

## ♿ 可访问性 (A11y)

### ARIA 属性
```html
<!-- 模态框 -->
<div role="dialog" aria-modal="true" aria-labelledby="modal-title">

<!-- 按钮 -->
<button aria-label="打开设置">⚙️</button>

<!-- 表单 -->
<input aria-label="输入消息" placeholder="输入消息...">
```

### 键盘导航
- `Tab` - 在可交互元素间导航
- `Enter` - 触发按钮/发送消息
- `Shift+Enter` - 在输入框中换行
- `Escape` - 关闭模态框

### 颜色对比
- 所有文本与背景对比度 ≥ 4.5:1（WCAG AA）
- 不仅依赖颜色（错误用红色+图标）

## 🎨 视觉层级

### 强调程度排序

```
1. 🔴 主要行动 (紫色渐变按钮)
   - "发送" 按钮
   - "保存" 按钮

2. 🟡 次要行动 (灰色按钮)
   - "清除" 按钮
   - "取消" 按钮
   - "关闭" 按钮

3. 🟢 信息文本 (浅灰色)
   - 应用提示
   - 时间戳
   - 辅助文本

4. ⚪ 背景元素
   - 容器
   - 输入框背景
```

## 🌈 颜色参考

```
主要品牌色:
  #667eea (紫蓝)
  #764ba2 (紫罗兰)
  渐变: linear-gradient(135deg, #667eea 0%, #764ba2 100%)

中立色:
  #ffffff (白)
  #f5f5f5 (浅灰1)
  #f0f0f0 (浅灰2)
  #e0e0e0 (浅灰3)
  #999 (中灰)
  #666 (深灰)
  #333 (接近黑)

功能色:
  #c00 / #ffe0e0 (错误红)
  #green (成功 - 留用)
  #blue (信息 - 留用)
  #orange (警告 - 留用)
```

## 📊 组件大小参考

| 组件 | 宽度 | 高度 | 说明 |
|------|------|------|------|
| Header | 100% | 60-70px | 固定位置 |
| Chat Container | 100% | calc(100vh - 130px) | 响应式 |
| Message | 70% | auto | 桌面 / 85% 移动 |
| Input Box | 100% | 100-200px | 可调整高度 |
| Button | auto | 44px+ | 最小触摸目标 |
| Modal | 90% / max-500px | 90vh | 响应式 |
| Avatar | 32-48px | 32-48px | 1.5-2rem |

---

## 🎯 设计原则

1. **简洁明快** - 最小化混乱，清晰的视觉层级
2. **易用性** - 直观的交互，清晰的反馈
3. **现代感** - 渐变、圆角、阴影
4. **响应式** - 完美适配各种屏幕
5. **可访问性** - 为所有用户设计

---

**UI/UX 设计版本**: v1.0  
**最后更新**: 2024-11-06

相关文档:
- 📖 [README.md](README.md)
- 📖 [API_INTEGRATION.md](API_INTEGRATION.md)
